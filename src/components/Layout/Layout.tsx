
import { useLocation, NavLink, Outlet } from "react-router-dom"
import "./Layout.css";
import urlLogo from "../../assets/images/logo.png";

import { useAppSelector } from "../../store/store";
function LayoutMenu() {
    const location = useLocation();

    const isAdmin = useAppSelector((store) => store.userReducer).isAdmin;
    console.log("isAdmin: ", isAdmin);
    
    const token = useAppSelector((store) => store.userReducer).access_token;

    if (location.pathname === "/login" || !token) return <Outlet />


    return (
        <>
            <div className="container">

                <nav className="nav">
                    <NavLink to="/" className="logo">
                        <img src={urlLogo} alt="logo" />

                    </NavLink>
                    <NavLink to="/" className="nav__link nav__main">
                        <span className="svg">
                            <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                                <path d="M9.61111 10.889V11.389H10.1111H19.7094C19.4493 16.4646 15.2515 20.5001 10.1111 20.5001C4.80304 20.5001 0.5 16.197 0.5 10.889C0.5 5.7486 4.53543 1.55076 9.61111 1.29064V10.889ZM12.5 0.509664C14.9521 0.605532 16.8919 1.4109 18.2405 2.75951C19.5891 4.10812 20.3945 6.04796 20.4903 8.50008H12.5V0.509664Z" />
                            </svg>
                        </span>

                        <span>Планирование</span>
                    </NavLink>

                    <NavLink to="/workers" className="nav__link nav__workers">
                        <span className="svg">

                            <svg width="19" height="15" viewBox="0 0 19 15" strokeWidth={.7} fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M4.49971 5.44995C5.08318 5.44995 5.64276 5.2287 6.05534 4.83488C6.46792 4.44105 6.69971 3.90691 6.69971 3.34995C6.69971 2.793 6.46792 2.25885 6.05534 1.86503C5.64276 1.4712 5.08318 1.24995 4.49971 1.24995C3.91623 1.24995 3.35665 1.4712 2.94407 1.86503C2.53149 2.25885 2.29971 2.793 2.29971 3.34995C2.29971 3.90691 2.53149 4.44105 2.94407 4.83488C3.35665 5.2287 3.91623 5.44995 4.49971 5.44995ZM4.49971 6.49995C4.93307 6.49995 5.36219 6.41847 5.76256 6.26017C6.16294 6.10187 6.52673 5.86984 6.83316 5.57734C7.13959 5.28483 7.38267 4.93758 7.54851 4.5554C7.71435 4.17323 7.79971 3.76362 7.79971 3.34995C7.79971 2.93629 7.71435 2.52667 7.54851 2.1445C7.38267 1.76232 7.13959 1.41507 6.83316 1.12256C6.52673 0.83006 6.16294 0.598033 5.76256 0.439731C5.36219 0.281429 4.93307 0.199951 4.49971 0.199951C3.62449 0.199951 2.78512 0.531825 2.16625 1.12256C1.54738 1.7133 1.19971 2.51452 1.19971 3.34995C1.19971 4.18538 1.54738 4.9866 2.16625 5.57734C2.78512 6.16808 3.62449 6.49995 4.49971 6.49995Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M3.2393 5.3407C3.29052 5.38947 3.33116 5.4474 3.35889 5.51118C3.38661 5.57497 3.40089 5.64334 3.40089 5.7124C3.40089 5.78145 3.38661 5.84983 3.35889 5.91361C3.33116 5.9774 3.29052 6.03533 3.2393 6.0841L2.8675 6.43795C2.15199 7.12113 1.75 8.04757 1.7499 9.0136V10.9624C1.7499 11.1016 1.69196 11.2352 1.58881 11.3336C1.48567 11.4321 1.34577 11.4874 1.1999 11.4874C1.05403 11.4874 0.914139 11.4321 0.810994 11.3336C0.707849 11.2352 0.649902 11.1016 0.649902 10.9624V9.0136C0.650058 7.76912 1.16799 6.57564 2.0898 5.6956L2.4605 5.3407C2.51159 5.29181 2.57229 5.25302 2.63911 5.22655C2.70592 5.20008 2.77756 5.18646 2.8499 5.18646C2.92225 5.18646 2.99388 5.20008 3.0607 5.22655C3.12752 5.25302 3.18821 5.29181 3.2393 5.3407ZM16.2105 5.0257C16.1593 5.07447 16.1186 5.1324 16.0909 5.19618C16.0632 5.25997 16.0489 5.32834 16.0489 5.3974C16.0489 5.46645 16.0632 5.53483 16.0909 5.59861C16.1186 5.6624 16.1593 5.72033 16.2105 5.7691L16.5823 6.12295C16.9366 6.46119 17.2177 6.86274 17.4095 7.30467C17.6012 7.7466 17.6999 8.22026 17.6999 8.6986V10.9624C17.6999 11.1016 17.7578 11.2352 17.861 11.3336C17.9641 11.4321 18.104 11.4874 18.2499 11.4874C18.3958 11.4874 18.5357 11.4321 18.6388 11.3336C18.742 11.2352 18.7999 11.1016 18.7999 10.9624V8.6986C18.7997 7.45412 18.2818 6.26064 17.36 5.3806L16.9893 5.0257C16.9382 4.97681 16.8775 4.93802 16.8107 4.91155C16.7439 4.88508 16.6722 4.87146 16.5999 4.87146C16.5276 4.87146 16.4559 4.88508 16.3891 4.91155C16.3223 4.93802 16.2616 4.97681 16.2105 5.0257Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M14.4001 5.44995C13.8166 5.44995 13.257 5.2287 12.8445 4.83487C12.4319 4.44105 12.2001 3.90691 12.2001 3.34995C12.2001 2.793 12.4319 2.25885 12.8445 1.86503C13.257 1.4712 13.8166 1.24995 14.4001 1.24995C14.9836 1.24995 15.5432 1.4712 15.9557 1.86503C16.3683 2.25885 16.6001 2.793 16.6001 3.34995C16.6001 3.90691 16.3683 4.44105 15.9557 4.83487C15.5432 5.2287 14.9836 5.44995 14.4001 5.44995ZM14.4001 6.49995C13.9667 6.49995 13.5376 6.41847 13.1372 6.26017C12.7369 6.10187 12.3731 5.86984 12.0666 5.57734C11.7602 5.28483 11.5171 4.93758 11.3513 4.5554C11.1855 4.17323 11.1001 3.76361 11.1001 3.34995C11.1001 2.93629 11.1855 2.52667 11.3513 2.1445C11.5171 1.76232 11.7602 1.41507 12.0666 1.12256C12.3731 0.83006 12.7369 0.598033 13.1372 0.439731C13.5376 0.281429 13.9667 0.199951 14.4001 0.199951C15.2753 0.199951 16.1147 0.531825 16.7336 1.12256C17.3524 1.7133 17.7001 2.51452 17.7001 3.34995C17.7001 4.18538 17.3524 4.9866 16.7336 5.57734C16.1147 6.16808 15.2753 6.49995 14.4001 6.49995ZM9.4501 9.91245C8.72075 9.91245 8.02128 10.189 7.50555 10.6813C6.98983 11.1736 6.7001 11.8413 6.7001 12.5375V13.9024C6.7001 14.0417 6.64215 14.1752 6.53901 14.2737C6.43586 14.3721 6.29597 14.4275 6.1501 14.4275C6.00423 14.4275 5.86433 14.3721 5.76119 14.2737C5.65804 14.1752 5.6001 14.0417 5.6001 13.9024V12.5375C5.6001 11.5628 6.00572 10.628 6.72774 9.93883C7.44975 9.24964 8.42901 8.86245 9.4501 8.86245C10.4712 8.86245 11.4504 9.24964 12.1725 9.93883C12.8945 10.628 13.3001 11.5628 13.3001 12.5375V13.9024C13.3001 14.0417 13.2422 14.1752 13.139 14.2737C13.0359 14.3721 12.896 14.4275 12.7501 14.4275C12.6042 14.4275 12.4643 14.3721 12.3612 14.2737C12.258 14.1752 12.2001 14.0417 12.2001 13.9024V12.5375C12.2001 12.1927 12.129 11.8514 11.9908 11.5329C11.8526 11.2144 11.65 10.925 11.3946 10.6813C11.1393 10.4375 10.8361 10.2442 10.5025 10.1123C10.1688 9.98035 9.81123 9.91245 9.4501 9.91245Z" />
                                <path fillRule="evenodd" clipRule="evenodd" d="M9.4499 8.3374C10.0334 8.3374 10.593 8.11615 11.0055 7.72233C11.4181 7.3285 11.6499 6.79436 11.6499 6.2374C11.6499 5.68045 11.4181 5.14631 11.0055 4.75248C10.593 4.35865 10.0334 4.1374 9.4499 4.1374C8.86643 4.1374 8.30685 4.35865 7.89427 4.75248C7.48169 5.14631 7.2499 5.68045 7.2499 6.2374C7.2499 6.79436 7.48169 7.3285 7.89427 7.72233C8.30685 8.11615 8.86643 8.3374 9.4499 8.3374ZM9.4499 9.3874C10.3251 9.3874 11.1645 9.05553 11.7834 8.46479C12.4022 7.87405 12.7499 7.07283 12.7499 6.2374C12.7499 5.40197 12.4022 4.60076 11.7834 4.01002C11.1645 3.41928 10.3251 3.0874 9.4499 3.0874C8.57469 3.0874 7.73532 3.41928 7.11645 4.01002C6.49758 4.60076 6.1499 5.40197 6.1499 6.2374C6.1499 7.07283 6.49758 7.87405 7.11645 8.46479C7.73532 9.05553 8.57469 9.3874 9.4499 9.3874Z" />
                            </svg>
                        </span>
                        <span>Сотрудники</span>
                    </NavLink>
                    <NavLink to="/projects" className="nav__link nav__projects">
                        <span className="svg">
                            <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21" fill="none">
                                <path d="M10.5 0L21 4.66916V16.3421L10.5 21L0 16.3421V4.66916L10.5 0ZM18.3876 5.11812L10.5 1.61625L7.45853 2.96312L15.2957 6.48744L18.3876 5.11812ZM10.5 8.61999L13.5036 7.29556L5.65385 3.77125L2.61238 5.11812L10.5 8.61999ZM1.61538 6.28541V15.4441L9.69231 19.0358V9.87707L1.61538 6.28541ZM11.3077 19.0358L19.3846 15.4441V6.28541L11.3077 9.87707V19.0358Z" fill="#7D7D7D" />
                            </svg>
                        </span>
                        <span>Проекты</span>
                    </NavLink>
                    <NavLink to="/tasks" className="nav__link nav__tasks">
                        <span className="svg">
                            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="20" viewBox="0 0 22 20" fill="none">
                                <path d="M21.351 9.58L11.451 0.580001C11.0385 0.20808 10.481 -0.000420824 9.9 6.37713e-07H2.2C1.61652 6.37713e-07 1.05695 0.210714 0.644366 0.585787C0.231786 0.96086 6.90723e-07 1.46957 6.90723e-07 2V9C-0.000229341 9.26391 0.0569984 9.52526 0.168385 9.76897C0.279772 10.0127 0.443115 10.2339 0.649001 10.42L10.549 19.42C10.9615 19.7919 11.519 20.0004 12.1 20C12.6825 19.9978 13.2403 19.7856 13.651 19.41L21.351 12.41C21.7641 12.0366 21.9975 11.5296 22 11C22.0002 10.7361 21.943 10.4747 21.8316 10.231C21.7202 9.98732 21.5569 9.76606 21.351 9.58ZM12.1 18L2.2 9V2H9.9L19.8 11M4.95 3C5.27634 3 5.59535 3.08797 5.86669 3.2528C6.13803 3.41762 6.34952 3.65189 6.4744 3.92598C6.59929 4.20006 6.63196 4.50166 6.5683 4.79264C6.50463 5.08361 6.34748 5.35088 6.11673 5.56066C5.88597 5.77044 5.59197 5.9133 5.2719 5.97118C4.95183 6.02906 4.62007 5.99935 4.31857 5.88582C4.01707 5.77229 3.75938 5.58003 3.57808 5.33336C3.39677 5.08668 3.3 4.79667 3.3 4.5C3.3 4.10218 3.47384 3.72064 3.78327 3.43934C4.09271 3.15804 4.51239 3 4.95 3Z" />
                            </svg>
                        </span>
                        <span>Задачи</span>
                    </NavLink>
                </nav>
                <main className="main">
                    <Outlet></Outlet>
                </main>
            </div>



        </>
    )
}

export default LayoutMenu